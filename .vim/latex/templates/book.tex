\documentclass[uplatex,a4paper,dvipdfmx, openany]{jsbook}
\usepackage{amsmath,amsfonts,amssymb,amsthm,bm}
\usepackage{ascmac}
\usepackage{physics}
\usepackage[top=15truemm,bottom=20truemm,left=15truemm,right=15truemm]{geometry}
\usepackage{tikz}
\usepackage{gnuplot-lua-tikz}
\usetikzlibrary{intersections,calc,arrows.meta,cd,automata,positioning}
\usepackage{circuitikz}
\usepackage{here}
\usepackage{siunitx}
\usepackage{multicol,multirow}
\usepackage{systeme}
\usepackage[version=3]{mhchem}
\usepackage{chemfig}
\usepackage{url}
\usepackage{braket}
\usepackage{enumerate}
\usepackage{mathrsfs}
\usepackage{otf}
\usepackage{ulem}
\usepackage{stmaryrd}
\renewcommand{\labelenumi}{(\arabic{enumi})}
\DeclareMathOperator{\Sinarc}{\mathrm{Sin}^{-1}}
\DeclareMathOperator{\Cosarc}{\mathrm{Cos}^{-1}}
\DeclareMathOperator{\Tanarc}{\mathrm{Tan}^{-1}}
\DeclareMathOperator{\Real}{\mathbb{R}}
\DeclareMathOperator{\Complex}{\mathbb{C}}
\DeclareMathOperator{\Rational}{\mathbb{Q}}
\DeclareMathOperator{\Natural}{\mathbb{N}}
\DeclareMathOperator{\Integer}{\mathbb{Z}}
\DeclareMathOperator{\Ker}{\mathrm{Ker}}
\DeclareMathOperator{\diffset}{\backslash}
\DeclareMathOperator{\define}{\overset{\text{def}}{\Longleftrightarrow}}

\numberwithin{equation}{chapter}

\newcounter{general}[chapter]

\theoremstyle{definition}
\newtheorem{dfnn}{定義}[chapter]
\newtheorem{axiomn}{公理}[chapter]
\newtheorem{thmn}{定理}[chapter]
\newtheorem{propn}{命題}[chapter]
\newtheorem{lemn}{補題}[chapter]
\newtheorem{corn}{系}[chapter]
\newtheorem{examplen}{例}[chapter]
\newtheorem{questionn}{問}[chapter]
\newtheorem{cautionn}{注意}[chapter]
\newtheorem{notationn}{記法}[chapter]
\renewcommand{\thedfnn}{\thechapter.\arabic{general}}
\renewcommand{\theaxiomn}{\thechapter.\arabic{general}}
\renewcommand{\thethmn}{\thechapter.\arabic{general}}
\renewcommand{\thepropn}{\thechapter.\arabic{general}}
\renewcommand{\thelemn}{\thechapter.\arabic{general}}
\renewcommand{\thecorn}{\thechapter.\arabic{general}}
\renewcommand{\theexamplen}{\thechapter.\arabic{general}}
\renewcommand{\thequestionn}{\thechapter.\arabic{general}}
\renewcommand{\thecautionn}{\thechapter.\arabic{general}}
\renewcommand{\thenotationn}{\thechapter.\arabic{general}}

\newenvironment{dfn}[1][]{\vspace{1ex}\begin{shadebox}\vspace{1ex}\begin{dfnn}[#1]}{\end{dfnn}\vspace{1pt}\stepcounter{general}\end{shadebox}\vspace{1ex}}
\newenvironment{axiom}[1][]{\vspace{1ex}\begin{shadebox}\vspace{1ex}\begin{axiomn}[#1]}{\end{axiomn}\vspace{1pt}\stepcounter{general}\end{shadebox}\vspace{1ex}}
\newenvironment{thm}[1][]{\vspace{1ex}\begin{shadebox}\vspace{1ex}\begin{thmn}[#1]}{\end{thmn}\vspace{1pt}\stepcounter{general}\end{shadebox}\vspace{1ex}}
\newenvironment{prop}[1][]{\vspace{1ex}\begin{shadebox}\vspace{1ex}\begin{thmn}[#1]}{\end{thmn}\vspace{1pt}\stepcounter{general}\end{shadebox}\vspace{1ex}}
\newenvironment{lem}[1][]{\vspace{1ex}\begin{shadebox}\vspace{1ex}\begin{thmn}[#1]}{\end{thmn}\vspace{1pt}\stepcounter{general}\end{shadebox}\vspace{1ex}}
\newenvironment{cor}[1][]{\vspace{1ex}\begin{shadebox}\vspace{1ex}\begin{thmn}[#1]}{\end{thmn}\vspace{1pt}\stepcounter{general}\end{shadebox}\vspace{1ex}}
\newenvironment{example}[1][]{\begin{examplen}[#1]}{\end{examplen}\stepcounter{general}}
\newenvironment{question}[1][]{\begin{questionn}[#1]}{\end{questionn}\stepcounter{general}}
\newenvironment{caution}[1][]{\begin{cautionn}[#1]}{\end{cautionn}\stepcounter{general}}
\newenvironment{notation}[1][]{\begin{notationn}[#1]}{\end{notationn}\stepcounter{general}}

\title{}
\author{}
\date{}

\begin{document}
\end{document}
